<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Quest Board</title>
    <!-- è¼‰å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- è¼‰å…¥ 90 å¹´ä»£åƒç´ å­—é«” -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    
    <style>
        /* --- è‡ªè¨‚åƒç´ é¢¨æ ¼ CSS --- */
        
        /* åŸºæœ¬è¨­å®šï¼šå¥—ç”¨åƒç´ å­—é«”èˆ‡æ·±ç¶ åº•è‰² */
        body {
            font-family: 'Press Start 2P', cursive;
            background-color: #2f3d40; /* æ·±ç¶  (Dark Slate Green) */
            color: #f0e8c0; /* æŸ”å…‰/ç¾Šçš®ç´™è‰² (Parchment) */
            /* è®“åœ–ç‰‡å’Œé‚Šæ¡†ä¿æŒéŠ³åˆ©çš„åƒç´ æ„Ÿ */
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }

        /* åƒç´ é¢æ¿ (å¤–æ¡† - æœ¨è³ª) */
        .pixel-panel {
            background-color: #7a5c3f; /* æ·±æœ¨è‰² (Dark Wood) */
            border: 4px solid #4a3825; /* æ›´æ·±çš„è¼ªå»“è‰² */
            padding: 4px; /* é‚Šæ¡†èˆ‡å…§å®¹çš„é–“è· */
            box-shadow: 0 6px 0 #4a3825; /* 3D åº•éƒ¨é™°å½± */
            margin-bottom: 8px;
            transition: all 0.2s ease;
        }

        /* åƒç´ é¢æ¿ (å…§å±¤ - æŸ”å…‰å¡ç‰‡) */
        .pixel-panel-inset {
            background-color: #c2b280; /* ç¾Šçš®ç´™/æ·ºæœ¨è‰² */
            /* æ¨¡æ“¬å…§å‡¹é™°å½± */
            border: 4px solid #e6d8a0; /* å…§å±¤äº®éƒ¨ */
            border-right-color: #a1936c; /* å…§å±¤æš—éƒ¨ (å³) */
            border-bottom-color: #a1936c; /* å…§å±¤æš—éƒ¨ (ä¸‹) */
            padding: 1rem;
            color: #4a3825; /* é¢æ¿ä¸Šçš„æ·±è‰²æ–‡å­— */
        }

        /* åƒç´ æŒ‰éˆ• */
        .pixel-button {
            background-color: #8b9d83; /* ç°ç¶ è‰² */
            border: 3px solid #4a3825;
            box-shadow: 0 4px 0 #4a3825;
            color: #f0e8c0;
            padding: 0.5rem 0.75rem;
            font-size: 0.75rem; /* 12px */
            text-shadow: 2px 2px #4a3825;
            transition: all 0.1s ease;
            cursor: pointer;
        }

        .pixel-button:active, .pixel-button.active {
            box-shadow: 0 0 0 #4a3825;
            transform: translateY(4px);
        }
        
        .pixel-button-primary { background-color: #4f8a8b; } /* ä¸»æŒ‰éˆ• (è—ç¶ ) */
        .pixel-button-secondary { background-color: #a1936c; } /* æ¬¡æŒ‰éˆ• (ç°) */
        .pixel-button-disabled {
            background-color: #5f5f5f;
            color: #9e9e9e;
            box-shadow: 0 4px 0 #333;
            text-shadow: 2px 2px #333;
            cursor: not-allowed;
        }

        /* åƒç´ é€²åº¦æ¢ */
        .pixel-progress-bar {
            height: 24px;
            background-color: #4a3825; /* è»Œé“åº•è‰² (æ·±) */
            border: 2px solid #4a3825;
            padding: 2px;
            overflow: hidden; /* ç¢ºä¿å…§éƒ¨å¡«æ»¿æ¢ä¸æœƒæº¢å‡º */
        }

        .pixel-progress-bar-fill {
            height: 100%;
            background-color: #5f9457; /* ç¶ è‰²å¡«æ»¿ */
            box-shadow: inset 0 0 0 2px #8b9d83; /* å…§å±¤äº®å…‰ */
            transition: width 0.5s ease-in-out; /* <-- æ–°å¢ï¼šé€²åº¦æ¢å‹•ç•« */
        }
        
        /* ä»»å‹™å¡ç‰‡äº’å‹• */
        .quest-card:hover {
            transform: translateY(-4px) scale(1.01);
            box-shadow: 0 10px 0 #4a3825, 0 0 20px #f0e8c0; /* æ‡¸åœæ™‚çš„ 3D é™°å½±èˆ‡æŸ”å…‰ */
        }
        
        .quest-card.completed .pixel-panel-inset {
            background-color: #a1a1a1; /* å®Œæˆå¾Œè®Šç° (å…§) */
            border-color: #c0c0c0;
            border-right-color: #808080;
            border-bottom-color: #808080;
        }
        .quest-card.completed .pixel-panel {
            background-color: #5f5f5f; /* å®Œæˆå¾Œè®Šç° (å¤–) */
            box-shadow: 0 6px 0 #333;
        }

        /* --- æ–°å¢ï¼šä»»å‹™å®Œæˆé–ƒå…‰å‹•ç•« --- */
        @keyframes quest-complete-flash {
            0%, 100% { 
                box-shadow: 0 6px 0 #4a3825; 
            }
            50% { 
                box-shadow: 0 6px 0 #4a3825, 0 0 35px #ffd700, 0 0 20px #fff; 
                transform: scale(1.02);
            }
        }
        .quest-flashing {
            animation: quest-complete-flash 0.5s ease-in-out;
        }
        /* --- æ–°å¢ï¼šåœ–ç¤ºæ‡¸åœå‹•ç•« --- */
        @keyframes pixel-throb {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* æ‡‰ç”¨æ–¼ä»»å‹™å¡æ¨™é¡Œ (æœªå®Œæˆçš„) */
        .quest-card:not(.completed):hover h3 {
            animation: pixel-throb 0.6s ease-in-out;
            transform-origin: left center;
        }
        /* æ‡‰ç”¨æ–¼æ’è¡Œæ¦œæŒ‰éˆ• */
        #toggle-leaderboard-btn:hover {
            animation: pixel-throb 0.6s ease-in-out;
        }
        /* æ‡‰ç”¨æ–¼é ‚éƒ¨ä»»å‹™ç‹€æ…‹ */
        #header-quest-status:hover {
            animation: pixel-throb 0.6s ease-in-out;
        }


        /* åƒç´ è¡¨æ ¼ (ç”¨æ–¼ä»»å‹™æ—¥èªŒ) */
        .pixel-table {
            width: 100%;
            border-collapse: collapse; /* åˆä½µé‚Šæ¡† */
        }
        .pixel-table th, .pixel-table td {
            padding: 0.75rem;
            border: 4px solid #7a5c3f;
            text-align: left;
        }
        .pixel-table th {
            background-color: #a1936c; /* è¡¨é ­èƒŒæ™¯ */
        }
        .pixel-table tr:nth-child(even) {
            background-color: #d1c69a; /* å¶æ•¸è¡ŒèƒŒæ™¯ (æ·ºè‰²) */
        }

        /* æ—‹è½‰å‹•ç•« (ç”¨æ–¼ Green Coin) */
        @keyframes spin {
            from { transform: rotateY(0deg); }
            to { transform: rotateY(360deg); }
        }
        .coin-spin {
            display: inline-block;
            animation: spin 1.5s linear infinite;
        }

        /* Level Up å‹•ç•« */
        @keyframes levelUpFade {
            0%, 100% { opacity: 0; transform: scale(0.5) translate(-50%, -50%); }
            50% { opacity: 1; transform: scale(1.2) translate(-50%, -50%); }
        }
        .level-up-fx {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: clamp(2rem, 10vw, 5rem); /* éŸ¿æ‡‰å¼å­—é«” */
            color: #ffd700; /* é‡‘è‰² */
            text-shadow: 4px 4px 0 #4a3825;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            animation: levelUpFade 2s ease-in-out;
        }

        /* NPC å°è©±æ¡† */
        @keyframes npc-bubble-fade {
            0%, 100% { opacity: 0; transform: translate(-50%, 20px); }
            10%, 90% { opacity: 1; transform: translate(-50%, 0); }
        }
        .npc-bubble {
            position: fixed;
            bottom: 120px; /* é¡¯ç¤ºåœ¨æ—¥èªŒå€ä¸Šæ–¹ */
            left: 50%;
            transform: translateX(-50%);
            animation: npc-bubble-fade 4s ease-in-out;
            z-index: 30;
            width: 90%;
            max-width: 400px;
        }
        /* å°è©±æ¡†çš„ä¸‰è§’ç®­é ­ */
        .npc-bubble .pixel-panel-inset::after {
            content: '';
            position: absolute;
            bottom: -16px; /* é€£æ¥åˆ°é¢æ¿ä¸‹æ–¹ */
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-top: 16px solid #c2b280; /* é¡è‰²åŒé¢æ¿å…§éƒ¨ */
        }
    </style>
</head>

<body class="p-2 sm:p-4 md:p-6 min-h-screen flex flex-col">

    <!-- 1. é ‚éƒ¨è§’è‰²è³‡è¨Šå€ -->
    <header class="pixel-panel w-full">
        <div class="pixel-panel-inset flex flex-col sm:flex-row justify-between items-center gap-4">
            
            <!-- å·¦å´ï¼šè§’è‰²èˆ‡ç­‰ç´š -->
            <div class="flex items-center gap-4">
                <!-- åƒç´ é¢¨é ­åƒ -->
                <div class="w-16 h-16 bg-yellow-300 border-4 border-gray-700 flex items-center justify-center text-4xl" style="image-rendering: pixelated;">
                    <img src="https://placehold.co/64x64/f0e8c0/4a3825?text=AV" alt="Avatar" class="w-full h-full">
                </div>
                <div>
                    <h1 class="text-lg">Marry ğŸŒ¿</h1>
                    <p class="text-xs">Eco Explorer</p>
                    <div class="text-xs mt-1">Lv. <span id="player-level">12</span> / Next Lv. 13</div>
                    <div class="pixel-progress-bar w-32 mt-1">
                        <div id="level-progress" class="pixel-progress-bar-fill" style="width: 75%;"></div>
                    </div>
                </div>
            </div>

            <!-- å³å´ï¼šè²¨å¹£èˆ‡ç‹€æ…‹ -->
            <div class="flex flex-wrap sm:flex-nowrap items-center gap-4 sm:gap-6 text-sm">
                <div>
                    <span class="coin-spin text-lg">ğŸ’°</span> 3,420 GC
                </div>
                <div>ğŸ§­ 1,280 Points</div>
                <div id="header-quest-status" class="pixel-button-secondary text-xs"> <!-- <-- æ–°å¢ ID -->
                    ğŸŒ <span id="today-quest-count">3</span>/5 Quests Done
                </div>
                <button id="toggle-leaderboard-btn" class="pixel-button text-xs" title="View Leaderboard">
                    ğŸ† Leaderboard
                </button>
            </div>
        </div>
    </header>

    <!-- ä¸­é–“ä¸»è¦å€åŸŸ (ä»»å‹™æ¸…å–® + æ’è¡Œæ¦œå´é‚Šæ¬„) -->
    <main class="flex-grow flex flex-row gap-4 mt-4">

        <!-- 2. ä»»å‹™æ¸…å–®å€ (ä¸»é«”) -->
        <section class="flex-1 space-y-4 h-[60vh] overflow-y-auto pr-2">
            
            <!-- ä»»å‹™å¡ 1 (é€²è¡Œä¸­) -->
            <div class="pixel-panel quest-card" data-quest-id="1">
                <div class="pixel-panel-inset">
                    <h3 class="text-lg mb-2">ğŸŒ± Weekly Challenge: 7x Reusable Cup</h3>
                    <p class="text-xs mb-3">Use a reusable cup for 7 days in a row. Reward: +100 Points & 20 Green Coins</p>
                    
                    <div class="flex justify-between items-center text-xs mb-1">
                        <span>Progress:</span>
                        <span>3/7</span>
                    </div>
                    <div class="pixel-progress-bar mb-3">
                        <div class="pixel-progress-bar-fill" style="width: 42.8%;"></div>
                    </div>
                    
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 text-xs mb-4">
                        <span>â° 3 Days Left</span>
                        <span>Type: ğŸ¥¤ Food</span>
                        <span>ğŸ Reward: +100 Pts, +20 GC</span>
                    </div>

                    <div class="flex flex-wrap gap-2">
                        <button class="pixel-button pixel-button-secondary text-xs">Start Quest</button>
                        <button class="pixel-button pixel-button-primary text-xs">Upload Proof</button>
                        <button class="pixel-button complete-quest-btn text-xs">Complete Quest</button>
                        <span class="quest-complete-tag hidden text-green-700 text-lg">âœ… Completed</span>
                    </div>
                </div>
            </div>

            <!-- ä»»å‹™å¡ 2 (å·²å®Œæˆ) -->
            <div class="pixel-panel quest-card completed" data-quest-id="2">
                <div class="pixel-panel-inset">
                    <h3 class="text-lg mb-2">ğŸš² Commute Warrior: 5km Ride</h3>
                    <p class="text-xs mb-3">Use a bike for your commute instead of a car or scooter.</p>
                    
                    <div class="flex justify-between items-center text-xs mb-1">
                        <span>Progress:</span>
                        <span>5/5 km</span>
                    </div>
                    <div class="pixel-progress-bar mb-3">
                        <div class="pixel-progress-bar-fill" style="width: 100%;"></div>
                    </div>
                    
                    <div class="flex justify-between items-center text-xs mb-4">
                        <span>â° Ended</span>
                        <span>Type: ğŸš— Commute</span>
                        <span>ğŸ Reward: +50 Pts</span>
                    </div>

                    <div class="flex gap-2">
                        <button class="pixel-button-disabled text-xs" disabled>Ended</button>
                        <span class="quest-complete-tag text-green-900 text-lg">âœ… Completed</span>
                    </div>
                </div>
            </div>
            
            <!-- ä»»å‹™å¡ 3 (æœªé–‹å§‹) -->
            <div class="pixel-panel quest-card" data-quest-id="3">
                <div class="pixel-panel-inset">
                    <h3 class="text-lg mb-2">ğŸ’¡ Energy Saver: Lights Off</h3>
                    <p class="text-xs mb-3">Report turning off lights when leaving a room 5 times this week.</p>
                    
                    <div class="flex justify-between items-center text-xs mb-1">
                        <span>Progress:</span>
                        <span>0/5</span>
                    </div>
                    <div class="pixel-progress-bar mb-3">
                        <div class="pixel-progress-bar-fill" style="width: 0%;"></div>
                    </div>
                    
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 text-xs mb-4">
                        <span>â° 6 Days Left</span>
                        <span>Type: âš¡ Energy</span>
                        <span>ğŸ Reward: +30 Pts</span>
                    </div>

                    <div class="flex flex-wrap gap-2">
                        <button class="pixel-button pixel-button-secondary text-xs">Start Quest</button>
                        <button class="pixel-button pixel-button-primary text-xs">Upload Proof</button>
                        <button class="pixel-button complete-quest-btn text-xs">Complete Quest</button>
                        <span class="quest-complete-tag hidden text-green-700 text-lg">âœ… Completed</span>
                    </div>
                </div>
            </div>

        </section>

        <!-- 3. å³å´æ’è¡Œæ¦œ (å¯æ”¶åˆ) -->
        <aside id="leaderboard-sidebar" class="pixel-panel w-0 p-0 overflow-hidden transition-all duration-300 ease-in-out" style="height: 60vh;">
            <div class="pixel-panel-inset h-full overflow-y-auto">
                <h2 class="text-lg mb-4">ğŸ† Leaderboard</h2>
                <table class="pixel-table text-xs w-full">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Player</th>
                            <th>LV</th>
                            <th>Total Score</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ğŸ¥‡ 1</td>
                            <td>David</td>
                            <td>22</td>
                            <td>23,000</td>
                        </tr>
                        <tr>
                            <td>ğŸ¥ˆ 2</td>
                            <td>Marry</td>
                            <td>19</td>
                            <td>18,700</td>
                        </tr>
                        <tr>
                            <td>ğŸ¥‰ 3</td>
                            <td>Nana</td>
                            <td>17</td>
                            <td>16,300</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Alex</td>
                            <td>16</td>
                            <td>15,900</td>
                        </tr>
                         <tr>
                            <td>...</td>
                            <td>...</td>
                            <td>...</td>
                            <td>...</td>
                        </tr>
                    </tbody>
                </table>
                <div class="mt-4 text-center bg-green-200 p-2 border-2 border-green-800">
                    Your Rank: 12th â†‘ +2
                </div>
            </div>
        </aside>

    </main>

    <!-- 4. ä¸‹æ–¹ä»»å‹™ç´€éŒ„èˆ‡æ—¥èªŒ -->
    <footer class="pixel-panel w-full mt-4">
        <div class="pixel-panel-inset">
            <h2 class="text-lg mb-4">ğŸ“œ Quest Log (Completed)</h2>
            <div class="overflow-x-auto">
                <table class="pixel-table text-xs w-full min-w-[600px]">
                    <thead>
                        <tr>
                            <th>Quest Name</th>
                            <th>Date</th>
                            <th>Reward</th>
                            <th>Carbon Saved (kg)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ğŸš² Commute Warrior: 5km Ride</td>
                            <td>2025-11-08</td>
                            <td>+50 Pts</td>
                            <td>-1.2 kg COâ‚‚e</td>
                        </tr>
                        <tr>
                            <td>â™»ï¸ Recycling Master (3x)</td>
                            <td>2025-11-07</td>
                            <td>+30 Pts</td>
                            <td>-0.8 kg COâ‚‚e</td>
                        </tr>
                        <tr>
                            <td>ğŸ‘œ Bring Your Own Bag</td>
                            <td>2025-11-05</td>
                            <td>+20 Pts</td>
                            <td>-0.1 kg COâ‚‚e</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="flex gap-2 mt-4">
                <input type="text" placeholder="Search log..." class="flex-1 p-2 bg-white border-2 border-gray-600" style="font-family: 'Press Start 2P', cursive; font-size: 10px;">
                <button class="pixel-button pixel-button-secondary text-xs">Search</button>
            </div>
        </div>
    </footer>

    <!-- äº’å‹•ç‰¹æ•ˆ (é è¨­éš±è—) -->
    <div id="fx-container"></div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- è®Šæ•¸ ---
            const toggleLeaderboardBtn = document.getElementById('toggle-leaderboard-btn');
            const leaderboardSidebar = document.getElementById('leaderboard-sidebar');
            const completeQuestBtns = document.querySelectorAll('.complete-quest-btn');
            const fxContainer = document.getElementById('fx-container');
            const todayQuestCountEl = document.getElementById('today-quest-count');
            const playerLevelEl = document.getElementById('player-level');
            
            let currentQuestCount = 3;
            let currentLevel = 12;

            const npcMessages = [
                "Awesome! The planet breathes a little easier.",
                "Great job! Green Coins collected!",
                "Wow! You're a true Eco-Explorer!",
                "Quest Complete! Closer to the next Level Up!"
            ];

            // --- äº‹ä»¶ç›£è½ ---

            // 1. åˆ‡æ›æ’è¡Œæ¦œå´é‚Šæ¬„
            toggleLeaderboardBtn.addEventListener('click', () => {
                if (leaderboardSidebar.classList.contains('w-0')) {
                    // å±•é–‹
                    leaderboardSidebar.classList.remove('w-0', 'p-0');
                    leaderboardSidebar.classList.add('w-full', 'sm:w-72', 'lg:w-96', 'p-1'); // éŸ¿æ‡‰å¼å¯¬åº¦
                    toggleLeaderboardBtn.classList.add('active');
                } else {
                    // æ”¶åˆ
                    leaderboardSidebar.classList.add('w-0', 'p-0');
                    leaderboardSidebar.classList.remove('w-full', 'sm:w-72', 'lg:w-96', 'p-1');
                    toggleLeaderboardBtn.classList.remove('active');
                }
            });
            
            // 2. å®Œæˆä»»å‹™æŒ‰éˆ• (*** æ›´æ–°çš„ JS é‚è¼¯ ***)
            completeQuestBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const card = btn.closest('.quest-card');
                    // é˜²æ­¢é‡è¤‡é»æ“Šæˆ–é»æ“Šå·²å®Œæˆçš„
                    if (card.classList.contains('completed') || card.classList.contains('flashing')) return; 

                    // a. æ·»åŠ é–ƒå…‰å‹•ç•«
                    card.classList.add('flashing');

                    // b. å‹•ç•«é€²åº¦æ¢åˆ° 100%
                    const progressBarFill = card.querySelector('.pixel-progress-bar-fill');
                    if (progressBarFill) {
                        progressBarFill.style.width = '100%';
                    }

                    // c. (ç«‹å³) æ›´æ–°ä»Šæ—¥ä»»å‹™è¨ˆæ•¸
                    currentQuestCount++;
                    todayQuestCountEl.textContent = currentQuestCount;

                    // d. (ç«‹å³) é¡¯ç¤º NPC è¨Šæ¯
                    showNpcBubble();

                    // e. (ç«‹å³) æª¢æŸ¥æ˜¯å¦å‡ç´š
                    if (currentQuestCount === 5) {
                        triggerLevelUp();
                        // é‡ç½®è¨ˆæ•¸ (åƒ…ç‚ºç¯„ä¾‹)
                        currentQuestCount = 0;
                        setTimeout(() => {
                            todayQuestCountEl.textContent = currentQuestCount;
                        }, 2100);
                    }

                    // f. å‹•ç•«çµæŸå¾Œ (500ms)ï¼Œè¨­å®šæœ€çµ‚ç‹€æ…‹
                    setTimeout(() => {
                        card.classList.remove('flashing'); // ç§»é™¤å‹•ç•«
                        card.classList.add('completed'); // æ·»åŠ æœ€çµ‚ç‹€æ…‹
                        
                        // éš±è—æ‰€æœ‰æŒ‰éˆ•, é¡¯ç¤ºã€Œå·²å®Œæˆã€
                        const buttons = card.querySelectorAll('.pixel-button');
                        buttons.forEach(b => b.classList.add('hidden'));
                        card.querySelector('.quest-complete-tag').classList.remove('hidden');

                    }, 500); // å¿…é ˆåŒ¹é… CSS å‹•ç•«æŒçºŒæ™‚é–“
                });
            });

            // --- åŠŸèƒ½å‡½å¼ ---

            // å‡½å¼ï¼šè§¸ç™¼ Level Up ç‰¹æ•ˆ
            function triggerLevelUp() {
                currentLevel++;
                
                const fxElement = document.createElement('div');
                fxElement.className = 'level-up-fx';
                fxElement.textContent = 'Level Up!';
                fxContainer.appendChild(fxElement);

                // æ›´æ–°ç­‰ç´šé¡¯ç¤º
                playerLevelEl.textContent = currentLevel;

                // 2 ç§’å¾Œç§»é™¤ç‰¹æ•ˆ
                setTimeout(() => {
                    fxElement.remove();
                }, 2000);
            }

            // å‡½å¼ï¼šé¡¯ç¤º NPC å°è©±æ¡†
            function showNpcBubble() {
                const message = npcMessages[Math.floor(Math.random() * npcMessages.length)];
                
                const bubbleElement = document.createElement('div');
                bubbleElement.className = 'npc-bubble pixel-panel';
                bubbleElement.innerHTML = `
                    <div class="pixel-panel-inset text-center text-xs sm:text-sm p-3 sm:p-4">
                        ${message}
                    </div>
                `;
                fxContainer.appendChild(bubbleElement);

                // 4 ç§’å¾Œç§»é™¤
                setTimeout(() => {
                    bubbleElement.remove();
                }, 3900);
            }

        });
    </script>

</body>
</html>


